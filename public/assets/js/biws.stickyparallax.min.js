"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,n=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(window.biws=window.biws||{}).stickyParallax=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.containerSelector,r=e.maxOffset,l=void 0===r?40:r,r=e.opacityOffset,a=void 0===r?25:r,e=e.padding,c=void 0===e?50:e,i="sticky-parallax-container",s="sticky-parallax-lockup",y="sticky-parallax-block",o="sticky-block-active",n="sticky-block-next",f="sticky-block-will-change",u={},d={},p=[],m=[],v=!1,h=window.innerHeight||document.documentElement.clientHeight;if(!t)return console.error("Sticky Parallax called with invalid arguments."),console.groupCollapsed("Errors"),t||console.log("containerSelector not set"),void console.groupEnd();var g,b,w,_,A,S,k,T,H,I,L,x,E,C,O=document.querySelectorAll(t);O.length?(g=function(e){return!!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===_typeof(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)||(console.error("Element is not a valid HTML element",element),!1)},b=function(e){var t=2*l,r=2*c;if(!getComputedStyle)return console.log("getComputedStyle not supported by browser."),!1;if(!g(e))return console.error("Element not valid"),!1;var o,n,a=_createForOfIteratorHelper(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(o=i,n=void 0,n=getComputedStyle(o),o=o.clientHeight,(o-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))+t+r>h)return console.log("child too high",i),!1}}catch(e){a.e(e)}finally{a.f()}return!0},w=function(e,t){e=e.firstElementChild;return!!e&&(g(e)?e.classList.contains(t):(console.error("Child not an element."),!1))},_=function(e,t){var r,o,n,e=e.getBoundingClientRect();return 0<e.top?(r=-1,o=l):e.bottom<0?(r=t.length,o=-l):(r=Math.ceil(Math.abs(e.top)/h)-1,n=function(e){e=Math.abs(e);if(l<e)return 0;e-=a;return e<=0?1:1-e/(l-a)}(o=e.top%h/h*2*l+l)),{active:r,next:r<0?0:0===r?r+1:r===t.length-1?r-1:r>=t.length?t.length-1:0<o?r-1:r+1,offset:o,opacity:n}},A=function(e,t,r){e&&(!(2<arguments.length&&void 0!==r)||r?e.classList.add(t):e.classList.remove(t))},S=function(e,t){A(e,o,!(1<arguments.length&&void 0!==t)||t)},k=function(e,t){A(e,n,!(1<arguments.length&&void 0!==t)||t)},T=function(e,t){A(e,f,!(1<arguments.length&&void 0!==t)||t)},H=function(e){var t=0<arguments.length&&void 0!==e?e:{},r=t.block,e=t.offset,t=t.opacity;r&&(void 0!==e&&(r.style.transform="translateY(".concat(e,"px)")),void 0!==t&&(r.style.opacity=t))},I=function(e,t){var r,o,n=E(e),a=_(e,n),i=n[a.active];if(function(e){e=e.getBoundingClientRect();return e.top<h&&0<e.bottom}(e)){if(!m.includes(t)){m.push(t);var l=_createForOfIteratorHelper(n);try{for(l.s();!(c=l.n()).done;){var c=c.value;H({block:c,opacity:0})}}catch(e){l.e(e)}finally{l.f()}}}else{!function(e,t){for(;e.includes(t);){var r=e.indexOf(t);e.splice(r,1)}}(m,t);var s=_createForOfIteratorHelper(n);try{for(s.s();!(y=s.n()).done;){var y=y.value;H({block:y,opacity:1})}}catch(e){s.e(e)}finally{s.f()}}d[t]!==a.active&&(e=n[d[t]],S(e,!1),H({block:e,opacity:0}),S(i)),u[t]!==a.next&&(r=n[u[t]],o=n[a.next],k(r,!1),k(o)),d[t]===a.active&&u[t]===a.next||(r=n[d[t]],o=n[u[t]],n=n[a.next],o!=i&&o!=n&&T(o,!1),r!=i&&r!=n&&T(r,!1),T(i),T(n)),H({block:i,offset:a.offset,opacity:a.opacity}),d[t]=a.active,u[t]=a.next},L=function(e){var t=e.children.length;if(t){e.classList.add(i),e.style.height="".concat(100*(t+1),"vh"),e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0;var r,o,n=_createForOfIteratorHelper(e.children);try{for(n.s();!(a=n.n()).done;){var a=a.value;a.classList.add(y),H({block:a,offset:l}),a.style.paddingTop=0,a.style.paddingBottom=0,a.style.marginTop=0,a.style.marginBottom=0}}catch(e){n.e(e)}finally{n.f()}w(e,s)||w(r=e,o=s)||((t=document.createElement("div")).classList.add(o),t.append.apply(t,_toConsumableArray(r.children)),r.append(t))}else console.error("Element does hot have children for sticky parallax effect",e)},x=function(e){var t,r,o;e.classList.remove(i),e.style.removeProperty("height"),w(e,s)&&(r=s,g(t=e)?w(t,r)&&(r=(o=t.firstElementChild).children,t.removeChild(o),t.append.apply(t,_toConsumableArray(r))):console.error("Cannot unwrap content.")),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom");var n=_createForOfIteratorHelper(e.children);try{for(n.s();!(a=n.n()).done;){var a=a.value;a.classList.remove(y),function(e,t,r){r=!(2<arguments.length&&void 0!==r)||r;1<arguments.length&&void 0!==t&&!t||e.style.removeProperty("transform"),r&&e.style.removeProperty("opacity")}(a),a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),S(a,!1),k(a,!1),T(a,!1)}}catch(e){n.e(e)}finally{n.f()}},E=function(e){return e.querySelectorAll(".".concat(s," .").concat(y))},p=(C=function(e){m=[];var t=[],r=0,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var n=n.value;x(n),b(n)&&(L(n),t.push(n),I(n,r++))}}catch(e){o.e(e)}finally{o.f()}return t})(O),window.addEventListener("resize",function(){v||(v=!0,h=window.innerHeight||document.documentElement.clientHeight,window.requestAnimationFrame(function(){p=C(O),v=!1}))}),window.addEventListener("scroll",function(){v||(v=!0,window.requestAnimationFrame(function(){var e=0,t=_createForOfIteratorHelper(p);try{for(t.s();!(r=t.n()).done;){var r=r.value;I(r,e++)}}catch(e){t.e(e)}finally{t.f()}v=!1}))})):console.error("No elements found for containerSelector",t)};
//# sourceMappingURL=biws.stickyparallax.min.js.map